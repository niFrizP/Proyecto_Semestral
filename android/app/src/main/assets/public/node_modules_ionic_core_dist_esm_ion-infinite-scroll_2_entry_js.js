"use strict";
(self["webpackChunkapp"] = self["webpackChunkapp"] || []).push([["node_modules_ionic_core_dist_esm_ion-infinite-scroll_2_entry_js"],{

/***/ 9273:
/*!*************************************************************!*\
  !*** ./node_modules/@ionic/core/dist/esm/index-c4b11676.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "a": () => (/* binding */ printRequiredElementError),
/* harmony export */   "b": () => (/* binding */ printIonError),
/* harmony export */   "p": () => (/* binding */ printIonWarning)
/* harmony export */ });
/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */

/**
 * Logs a warning to the console with an Ionic prefix
 * to indicate the library that is warning the developer.
 *
 * @param message - The string message to be logged to the console.
 */
const printIonWarning = (message, ...params) => {
  return console.warn(`[Ionic Warning]: ${message}`, ...params);
};
/*
 * Logs an error to the console with an Ionic prefix
 * to indicate the library that is warning the developer.
 *
 * @param message - The string message to be logged to the console.
 * @param params - Additional arguments to supply to the console.error.
 */


const printIonError = (message, ...params) => {
  return console.error(`[Ionic Error]: ${message}`, ...params);
};
/**
 * Prints an error informing developers that an implementation requires an element to be used
 * within a specific selector.
 *
 * @param el The web component element this is requiring the element.
 * @param targetSelectors The selector or selectors that were not found.
 */


const printRequiredElementError = (el, ...targetSelectors) => {
  return console.error(`<${el.tagName.toLowerCase()}> must be used inside ${targetSelectors.join(' or ')}.`);
};



/***/ }),

/***/ 9667:
/*!**************************************************************************!*\
  !*** ./node_modules/@ionic/core/dist/esm/ion-infinite-scroll_2.entry.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ion_infinite_scroll": () => (/* binding */ InfiniteScroll),
/* harmony export */   "ion_infinite_scroll_content": () => (/* binding */ InfiniteScrollContent)
/* harmony export */ });
/* harmony import */ var C_proyecto_Ionic_Proyecto_semestral_proyecto_semestral_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 1670);
/* harmony import */ var _index_1a99aeb7_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index-1a99aeb7.js */ 4895);
/* harmony import */ var _ionic_global_04e268e7_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ionic-global-04e268e7.js */ 2107);
/* harmony import */ var _index_3413f7be_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./index-3413f7be.js */ 7288);
/* harmony import */ var _index_dff497fb_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./index-dff497fb.js */ 1652);
/* harmony import */ var _helpers_4d272360_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./helpers-4d272360.js */ 9158);
/* harmony import */ var _index_c4b11676_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./index-c4b11676.js */ 9273);


/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */






const infiniteScrollCss = "ion-infinite-scroll{display:none;width:100%}.infinite-scroll-enabled{display:block}";
const InfiniteScroll = class {
  constructor(hostRef) {
    (0,_index_1a99aeb7_js__WEBPACK_IMPORTED_MODULE_1__.r)(this, hostRef);
    this.ionInfinite = (0,_index_1a99aeb7_js__WEBPACK_IMPORTED_MODULE_1__.e)(this, "ionInfinite", 7);
    this.thrPx = 0;
    this.thrPc = 0;
    this.didFire = false;
    this.isBusy = false;
    this.isLoading = false;
    /**
     * The threshold distance from the bottom
     * of the content to call the `infinite` output event when scrolled.
     * The threshold value can be either a percent, or
     * in pixels. For example, use the value of `10%` for the `infinite`
     * output event to get called when the user has scrolled 10%
     * from the bottom of the page. Use the value `100px` when the
     * scroll is within 100 pixels from the bottom of the page.
     */

    this.threshold = '15%';
    /**
     * If `true`, the infinite scroll will be hidden and scroll event listeners
     * will be removed.
     *
     * Set this to true to disable the infinite scroll from actively
     * trying to receive new data while scrolling. This is useful
     * when it is known that there is no more data that can be added, and
     * the infinite scroll is no longer needed.
     */

    this.disabled = false;
    /**
     * The position of the infinite scroll element.
     * The value can be either `top` or `bottom`.
     */

    this.position = 'bottom';

    this.onScroll = () => {
      const scrollEl = this.scrollEl;

      if (!scrollEl || !this.canStart()) {
        return 1;
      }

      const infiniteHeight = this.el.offsetHeight;

      if (infiniteHeight === 0) {
        // if there is no height of this element then do nothing
        return 2;
      }

      const scrollTop = scrollEl.scrollTop;
      const scrollHeight = scrollEl.scrollHeight;
      const height = scrollEl.offsetHeight;
      const threshold = this.thrPc !== 0 ? height * this.thrPc : this.thrPx;
      const distanceFromInfinite = this.position === 'bottom' ? scrollHeight - infiniteHeight - scrollTop - threshold - height : scrollTop - infiniteHeight - threshold;

      if (distanceFromInfinite < 0) {
        if (!this.didFire) {
          this.isLoading = true;
          this.didFire = true;
          this.ionInfinite.emit();
          return 3;
        }
      } else {
        this.didFire = false;
      }

      return 4;
    };
  }

  thresholdChanged() {
    const val = this.threshold;

    if (val.lastIndexOf('%') > -1) {
      this.thrPx = 0;
      this.thrPc = parseFloat(val) / 100;
    } else {
      this.thrPx = parseFloat(val);
      this.thrPc = 0;
    }
  }

  disabledChanged() {
    const disabled = this.disabled;

    if (disabled) {
      this.isLoading = false;
      this.isBusy = false;
    }

    this.enableScrollEvents(!disabled);
  }

  connectedCallback() {
    var _this = this;

    return (0,C_proyecto_Ionic_Proyecto_semestral_proyecto_semestral_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const contentEl = (0,_index_3413f7be_js__WEBPACK_IMPORTED_MODULE_3__.f)(_this.el);

      if (!contentEl) {
        (0,_index_3413f7be_js__WEBPACK_IMPORTED_MODULE_3__.p)(_this.el);
        return;
      }

      _this.scrollEl = yield (0,_index_3413f7be_js__WEBPACK_IMPORTED_MODULE_3__.g)(contentEl);

      _this.thresholdChanged();

      _this.disabledChanged();

      if (_this.position === 'top') {
        (0,_index_1a99aeb7_js__WEBPACK_IMPORTED_MODULE_1__.c)(() => {
          if (_this.scrollEl) {
            _this.scrollEl.scrollTop = _this.scrollEl.scrollHeight - _this.scrollEl.clientHeight;
          }
        });
      }
    })();
  }

  disconnectedCallback() {
    this.enableScrollEvents(false);
    this.scrollEl = undefined;
  }
  /**
   * Call `complete()` within the `ionInfinite` output event handler when
   * your async operation has completed. For example, the `loading`
   * state is while the app is performing an asynchronous operation,
   * such as receiving more data from an AJAX request to add more items
   * to a data list. Once the data has been received and UI updated, you
   * then call this method to signify that the loading has completed.
   * This method will change the infinite scroll's state from `loading`
   * to `enabled`.
   */


  complete() {
    var _this2 = this;

    return (0,C_proyecto_Ionic_Proyecto_semestral_proyecto_semestral_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const scrollEl = _this2.scrollEl;

      if (!_this2.isLoading || !scrollEl) {
        return;
      }

      _this2.isLoading = false;

      if (_this2.position === 'top') {
        /**
         * New content is being added at the top, but the scrollTop position stays the same,
         * which causes a scroll jump visually. This algorithm makes sure to prevent this.
         * (Frame 1)
         *    - complete() is called, but the UI hasn't had time to update yet.
         *    - Save the current content dimensions.
         *    - Wait for the next frame using _dom.read, so the UI will be updated.
         * (Frame 2)
         *    - Read the new content dimensions.
         *    - Calculate the height difference and the new scroll position.
         *    - Delay the scroll position change until other possible dom reads are done using _dom.write to be performant.
         * (Still frame 2, if I'm correct)
         *    - Change the scroll position (= visually maintain the scroll position).
         *    - Change the state to re-enable the InfiniteScroll.
         *    - This should be after changing the scroll position, or it could
         *    cause the InfiniteScroll to be triggered again immediately.
         * (Frame 3)
         *    Done.
         */
        _this2.isBusy = true; // ******** DOM READ ****************
        // Save the current content dimensions before the UI updates

        const prev = scrollEl.scrollHeight - scrollEl.scrollTop; // ******** DOM READ ****************

        requestAnimationFrame(() => {
          (0,_index_1a99aeb7_js__WEBPACK_IMPORTED_MODULE_1__.f)(() => {
            // UI has updated, save the new content dimensions
            const scrollHeight = scrollEl.scrollHeight; // New content was added on top, so the scroll position should be changed immediately to prevent it from jumping around

            const newScrollTop = scrollHeight - prev; // ******** DOM WRITE ****************

            requestAnimationFrame(() => {
              (0,_index_1a99aeb7_js__WEBPACK_IMPORTED_MODULE_1__.c)(() => {
                scrollEl.scrollTop = newScrollTop;
                _this2.isBusy = false;
              });
            });
          });
        });
      }
    })();
  }

  canStart() {
    return !this.disabled && !this.isBusy && !!this.scrollEl && !this.isLoading;
  }

  enableScrollEvents(shouldListen) {
    if (this.scrollEl) {
      if (shouldListen) {
        this.scrollEl.addEventListener('scroll', this.onScroll);
      } else {
        this.scrollEl.removeEventListener('scroll', this.onScroll);
      }
    }
  }

  render() {
    const mode = (0,_ionic_global_04e268e7_js__WEBPACK_IMPORTED_MODULE_2__.b)(this);
    const disabled = this.disabled;
    return (0,_index_1a99aeb7_js__WEBPACK_IMPORTED_MODULE_1__.h)(_index_1a99aeb7_js__WEBPACK_IMPORTED_MODULE_1__.H, {
      class: {
        [mode]: true,
        'infinite-scroll-loading': this.isLoading,
        'infinite-scroll-enabled': !disabled
      }
    });
  }

  get el() {
    return (0,_index_1a99aeb7_js__WEBPACK_IMPORTED_MODULE_1__.i)(this);
  }

  static get watchers() {
    return {
      "threshold": ["thresholdChanged"],
      "disabled": ["disabledChanged"]
    };
  }

};
InfiniteScroll.style = infiniteScrollCss;
const infiniteScrollContentIosCss = "ion-infinite-scroll-content{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center;min-height:84px;text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.infinite-loading{margin-left:0;margin-right:0;margin-top:0;margin-bottom:32px;display:none;width:100%}.infinite-loading-text{margin-left:32px;margin-right:32px;margin-top:4px;margin-bottom:0}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.infinite-loading-text{margin-left:unset;margin-right:unset;-webkit-margin-start:32px;margin-inline-start:32px;-webkit-margin-end:32px;margin-inline-end:32px}}.infinite-scroll-loading ion-infinite-scroll-content>.infinite-loading{display:block}.infinite-scroll-content-ios .infinite-loading-text{color:var(--ion-color-step-600, #666666)}.infinite-scroll-content-ios .infinite-loading-spinner .spinner-lines-ios line,.infinite-scroll-content-ios .infinite-loading-spinner .spinner-lines-small-ios line,.infinite-scroll-content-ios .infinite-loading-spinner .spinner-crescent circle{stroke:var(--ion-color-step-600, #666666)}.infinite-scroll-content-ios .infinite-loading-spinner .spinner-bubbles circle,.infinite-scroll-content-ios .infinite-loading-spinner .spinner-circles circle,.infinite-scroll-content-ios .infinite-loading-spinner .spinner-dots circle{fill:var(--ion-color-step-600, #666666)}";
const infiniteScrollContentMdCss = "ion-infinite-scroll-content{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center;min-height:84px;text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.infinite-loading{margin-left:0;margin-right:0;margin-top:0;margin-bottom:32px;display:none;width:100%}.infinite-loading-text{margin-left:32px;margin-right:32px;margin-top:4px;margin-bottom:0}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.infinite-loading-text{margin-left:unset;margin-right:unset;-webkit-margin-start:32px;margin-inline-start:32px;-webkit-margin-end:32px;margin-inline-end:32px}}.infinite-scroll-loading ion-infinite-scroll-content>.infinite-loading{display:block}.infinite-scroll-content-md .infinite-loading-text{color:var(--ion-color-step-600, #666666)}.infinite-scroll-content-md .infinite-loading-spinner .spinner-lines-md line,.infinite-scroll-content-md .infinite-loading-spinner .spinner-lines-small-md line,.infinite-scroll-content-md .infinite-loading-spinner .spinner-crescent circle{stroke:var(--ion-color-step-600, #666666)}.infinite-scroll-content-md .infinite-loading-spinner .spinner-bubbles circle,.infinite-scroll-content-md .infinite-loading-spinner .spinner-circles circle,.infinite-scroll-content-md .infinite-loading-spinner .spinner-dots circle{fill:var(--ion-color-step-600, #666666)}";
const InfiniteScrollContent = class {
  constructor(hostRef) {
    (0,_index_1a99aeb7_js__WEBPACK_IMPORTED_MODULE_1__.r)(this, hostRef);
  }

  componentDidLoad() {
    if (this.loadingSpinner === undefined) {
      const mode = (0,_ionic_global_04e268e7_js__WEBPACK_IMPORTED_MODULE_2__.b)(this);
      this.loadingSpinner = _ionic_global_04e268e7_js__WEBPACK_IMPORTED_MODULE_2__.c.get('infiniteLoadingSpinner', _ionic_global_04e268e7_js__WEBPACK_IMPORTED_MODULE_2__.c.get('spinner', mode === 'ios' ? 'lines' : 'crescent'));
    }
  }

  render() {
    const mode = (0,_ionic_global_04e268e7_js__WEBPACK_IMPORTED_MODULE_2__.b)(this);
    return (0,_index_1a99aeb7_js__WEBPACK_IMPORTED_MODULE_1__.h)(_index_1a99aeb7_js__WEBPACK_IMPORTED_MODULE_1__.H, {
      class: {
        [mode]: true,
        // Used internally for styling
        [`infinite-scroll-content-${mode}`]: true
      }
    }, (0,_index_1a99aeb7_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", {
      class: "infinite-loading"
    }, this.loadingSpinner && (0,_index_1a99aeb7_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", {
      class: "infinite-loading-spinner"
    }, (0,_index_1a99aeb7_js__WEBPACK_IMPORTED_MODULE_1__.h)("ion-spinner", {
      name: this.loadingSpinner
    })), this.loadingText && (0,_index_1a99aeb7_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", {
      class: "infinite-loading-text",
      innerHTML: (0,_index_dff497fb_js__WEBPACK_IMPORTED_MODULE_4__.s)(this.loadingText)
    })));
  }

};
InfiniteScrollContent.style = {
  ios: infiniteScrollContentIosCss,
  md: infiniteScrollContentMdCss
};


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm9kZV9tb2R1bGVzX2lvbmljX2NvcmVfZGlzdF9lc21faW9uLWluZmluaXRlLXNjcm9sbF8yX2VudHJ5X2pzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNQSxlQUFlLEdBQUcsQ0FBQ0MsT0FBRCxFQUFVLEdBQUdDLE1BQWIsS0FBd0I7RUFDOUMsT0FBT0MsT0FBTyxDQUFDQyxJQUFSLENBQWMsb0JBQW1CSCxPQUFRLEVBQXpDLEVBQTRDLEdBQUdDLE1BQS9DLENBQVA7QUFDRCxDQUZEO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUNBLE1BQU1HLGFBQWEsR0FBRyxDQUFDSixPQUFELEVBQVUsR0FBR0MsTUFBYixLQUF3QjtFQUM1QyxPQUFPQyxPQUFPLENBQUNHLEtBQVIsQ0FBZSxrQkFBaUJMLE9BQVEsRUFBeEMsRUFBMkMsR0FBR0MsTUFBOUMsQ0FBUDtBQUNELENBRkQ7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0EsTUFBTUsseUJBQXlCLEdBQUcsQ0FBQ0MsRUFBRCxFQUFLLEdBQUdDLGVBQVIsS0FBNEI7RUFDNUQsT0FBT04sT0FBTyxDQUFDRyxLQUFSLENBQWUsSUFBR0UsRUFBRSxDQUFDRSxPQUFILENBQVdDLFdBQVgsRUFBeUIseUJBQXdCRixlQUFlLENBQUNHLElBQWhCLENBQXFCLE1BQXJCLENBQTZCLEdBQWhHLENBQVA7QUFDRCxDQUZEOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQzdCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQSxNQUFNeUIsaUJBQWlCLEdBQUcscUZBQTFCO0FBRUEsTUFBTUMsY0FBYyxHQUFHLE1BQU07RUFDM0JDLFdBQVcsQ0FBQ0MsT0FBRCxFQUFVO0lBQ25CdkIscURBQWdCLENBQUMsSUFBRCxFQUFPdUIsT0FBUCxD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TUFBRW9ELEtBQUssRUFBRTtRQUNyQixDQUFDRCxJQUFELEdBQVEsSUFEYTtRQUVyQjtRQUNBLENBQUUsMkJBQTBCQSxJQUFLLEVBQWpDLEdBQXFDO01BSGhCO0lBQVQsQ0FBUCxFQUlGdkQscURBQUMsQ0FBQyxLQUFELEVBQVE7TUFBRXdELEtBQUssRUFBRTtJQUFULENBQVIsRUFBdUMsS0FBS08sY0FBTCxJQUF3Qi9ELHFEQUFDLENBQUMsS0FBRCxFQUFRO01BQUV3RCxLQUFLLEVBQUU7SUFBVCxDQUFSLEVBQStDeEQscURBQUMsQ0FBQyxhQUFELEVBQWdCO01BQUVpRSxJQUFJLEVBQUUsS0FBS0Y7SUFBYixDQUFoQixDQUFoRCxDQUFoRSxFQUFrSyxLQUFLRyxXQUFMLElBQW9CbEUscURBQUMsQ0FBQyxLQUFELEVBQVE7TUFBRXdELEtBQUssRUFBRSx1QkFBVDtNQUFrQ1csU0FBUyxFQUFFdkQscURBQWlCLENBQUMsS0FBS3NELFdBQU47SUFBOUQsQ0FBUixDQUF2TCxDQUpDLENBQVQ7RUFLRDs7QUFqQmlDLENBQXBDO0FBbUJBTCxxQkFBcUIsQ0FBQ0gsS0FBdEIsR0FBOEI7RUFDNUJVLEdBQUcsRUFBRVQsMkJBRHVCO0VBRTVCVSxFQUFFLEVBQUVUO0FBRndCLENBQTlCIiwic291cmNlcyI6WyIuL25vZGVfbW9kdWxlcy9AaW9uaWMvY29yZS9kaXN0L2VzbS9pbmRleC1jNGIxMTY3Ni5qcyIsIi4vbm9kZV9tb2R1bGVzL0Bpb25pYy9jb3JlL2Rpc3QvZXNtL2lvbi1pbmZpbml0ZS1zY3JvbGxfMi5lbnRyeS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIChDKSBJb25pYyBodHRwOi8vaW9uaWNmcmFtZXdvcmsuY29tIC0gTUlUIExpY2Vuc2VcbiAqL1xuLyoqXG4gKiBMb2dzIGEgd2FybmluZyB0byB0aGUgY29uc29sZSB3aXRoIGFuIElvbmljIHByZWZpeFxuICogdG8gaW5kaWNhdGUgdGhlIGxpYnJhcnkgdGhhdCBpcyB3YXJuaW5nIHRoZSBkZXZlbG9wZXIuXG4gKlxuICogQHBhcmFtIG1lc3NhZ2UgLSBUaGUgc3RyaW5nIG1lc3NhZ2UgdG8gYmUgbG9nZ2VkIHRvIHRoZSBjb25zb2xlLlxuICovXG5jb25zdCBwcmludElvbldhcm5pbmcgPSAobWVzc2FnZSwgLi4ucGFyYW1zKSA9PiB7XG4gIHJldHVybiBjb25zb2xlLndhcm4oYFtJb25pYyBXYXJuaW5nXTogJHttZXNzYWdlfWAsIC4uLnBhcmFtcyk7XG59O1xuLypcbiAqIExvZ3MgYW4gZXJyb3IgdG8gdGhlIGNvbnNvbGUgd2l0aCBhbiBJb25pYyBwcmVmaXhcbiAqIHRvIGluZGljYXRlIHRoZSBsaWJyYXJ5IHRoYXQgaXMgd2FybmluZyB0aGUgZGV2ZWxvcGVyLlxuICpcbiAqIEBwYXJhbSBtZXNzYWdlIC0gVGhlIHN0cmluZyBtZXNzYWdlIHRvIGJlIGxvZ2dlZCB0byB0aGUgY29uc29sZS5cbiAqIEBwYXJhbSBwYXJhbXMgLSBBZGRpdGlvbmFsIGFyZ3VtZW50cyB0byBzdXBwbHkgdG8gdGhlIGNvbnNvbGUuZXJyb3IuXG4gKi9cbmNvbnN0IHByaW50SW9uRXJyb3IgPSAobWVzc2FnZSwgLi4ucGFyYW1zKSA9PiB7XG4gIHJldHVybiBjb25zb2xlLmVycm9yKGBbSW9uaWMgRXJyb3JdOiAke21lc3NhZ2V9YCwgLi4ucGFyYW1zKTtcbn07XG4vKipcbiAqIFByaW50cyBhbiBlcnJvciBpbmZvcm1pbmcgZGV2ZWxvcGVycyB0aGF0IGFuIGltcGxlbWVudGF0aW9uIHJlcXVpcmVzIGFuIGVsZW1lbnQgdG8gYmUgdXNlZFxuICogd2l0aGluIGEgc3BlY2lmaWMgc2VsZWN0b3IuXG4gKlxuICogQHBhcmFtIGVsIFRoZSB3ZWIgY29tcG9uZW50IGVsZW1lbnQgdGhpcyBpcyByZXF1aXJpbmcgdGhlIGVsZW1lbnQuXG4gKiBAcGFyYW0gdGFyZ2V0U2VsZWN0b3JzIFRoZSBzZWxlY3RvciBvciBzZWxlY3RvcnMgdGhhdCB3ZXJlIG5vdCBmb3VuZC5cbiAqL1xuY29uc3QgcHJpbnRSZXF1aXJlZEVsZW1lbnRFcnJvciA9IChlbCwgLi4udGFyZ2V0U2VsZWN0b3JzKSA9PiB7XG4gIHJldHVybiBjb25zb2xlLmVycm9yKGA8JHtlbC50YWdOYW1lLnRvTG93ZXJDYXNlKCl9PiBtdXN0IGJlIHVzZWQgaW5zaWRlICR7dGFyZ2V0U2VsZWN0b3JzLmpvaW4oJyBvciAnKX0uYCk7XG59O1xuXG5leHBvcnQgeyBwcmludFJlcXVpcmVkRWxlbWVudEVycm9yIGFzIGEsIHByaW50SW9uRXJyb3IgYXMgYiwgcHJpbnRJb25XYXJuaW5nIGFzIHAgfTtcbiIsIi8qIVxuICogKEMpIElvbmljIGh0dHA6Ly9pb25pY2ZyYW1ld29yay5jb20gLSBNSVQgTGljZW5zZVxuICovXG5pbXBvcnQgeyByIGFzIHJlZ2lzdGVySW5zdGFuY2UsIGUgYXMgY3JlYXRlRXZlbnQsIGMgYXMgd3JpdGVUYXNrLCBmIGFzIHJlYWRUYXNrLCBoLCBpIGFzIGdldEVsZW1lbnQsIEggYXMgSG9zdCB9IGZyb20gJy4vaW5kZXgtMWE5OWFlYjcuanMnO1xuaW1wb3J0IHsgYiBhcyBnZXRJb25Nb2RlLCBjIGFzIGNvbmZpZyB9IGZyb20gJy4vaW9uaWMtZ2xvYmFsLTA0ZTI2OGU3LmpzJztcbmltcG9ydCB7IGYgYXMgZmluZENsb3Nlc3RJb25Db250ZW50LCBwIGFzIHByaW50SW9uQ29udGVudEVycm9yTXNnLCBnIGFzIGdldFNjcm9sbEVsZW1lbnQgfSBmcm9tICcuL2luZGV4LTM0MTNmN2JlLmpzJztcbmltcG9ydCB7IHMgYXMgc2FuaXRpemVET01TdHJpbmcgfSBmcm9tICcuL2luZGV4LWRmZjQ5N2ZiLmpzJztcbmltcG9ydCAnLi9oZWxwZXJzLTRkMjcyMzYwLmpzJztcbmltcG9ydCAnLi9pbmRleC1jNGIxMTY3Ni5qcyc7XG5cbmNvbnN0IGluZmluaXRlU2Nyb2xsQ3NzID0gXCJpb24taW5maW5pdGUtc2Nyb2xse2Rpc3BsYXk6bm9uZTt3aWR0aDoxMDAlfS5pbmZpbml0ZS1zY3JvbGwtZW5hYmxlZHtkaXNwbGF5OmJsb2NrfVwiO1xuXG5jb25zdCBJbmZpbml0ZVNjcm9sbCA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IoaG9zdFJlZikge1xuICAgIHJlZ2lzdGVySW5zdGFuY2UodGhpcywgaG9zdFJlZik7XG4gICAgdGhpcy5pb25JbmZpbml0ZSA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwiaW9uSW5maW5pdGVcIiwgNyk7XG4gICAgdGhpcy50aHJQeCA9IDA7XG4gICAgdGhpcy50aHJQYyA9IDA7XG4gICAgdGhpcy5kaWRGaXJlID0gZmFsc2U7XG4gICAgdGhpcy5pc0J1c3kgPSBmYWxzZTtcbiAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgIC8qKlxuICAgICAqIFRoZSB0aHJlc2hvbGQgZGlzdGFuY2UgZnJvbSB0aGUgYm90dG9tXG4gICAgICogb2YgdGhlIGNvbnRlbnQgdG8gY2FsbCB0aGUgYGluZmluaXRlYCBvdXRwdXQgZXZlbnQgd2hlbiBzY3JvbGxlZC5cbiAgICAgKiBUaGUgdGhyZXNob2xkIHZhbHVlIGNhbiBiZSBlaXRoZXIgYSBwZXJjZW50LCBvclxuICAgICAqIGluIHBpeGVscy4gRm9yIGV4YW1wbGUsIHVzZSB0aGUgdmFsdWUgb2YgYDEwJWAgZm9yIHRoZSBgaW5maW5pdGVgXG4gICAgICogb3V0cHV0IGV2ZW50IHRvIGdldCBjYWxsZWQgd2hlbiB0aGUgdXNlciBoYXMgc2Nyb2xsZWQgMTAlXG4gICAgICogZnJvbSB0aGUgYm90dG9tIG9mIHRoZSBwYWdlLiBVc2UgdGhlIHZhbHVlIGAxMDBweGAgd2hlbiB0aGVcbiAgICAgKiBzY3JvbGwgaXMgd2l0aGluIDEwMCBwaXhlbHMgZnJvbSB0aGUgYm90dG9tIG9mIHRoZSBwYWdlLlxuICAgICAqL1xuICAgIHRoaXMudGhyZXNob2xkID0gJzE1JSc7XG4gICAgLyoqXG4gICAgICogSWYgYHRydWVgLCB0aGUgaW5maW5pdGUgc2Nyb2xsIHdpbGwgYmUgaGlkZGVuIGFuZCBzY3JvbGwgZXZlbnQgbGlzdGVuZXJzXG4gICAgICogd2lsbCBiZSByZW1vdmVkLlxuICAgICAqXG4gICAgICogU2V0IHRoaXMgdG8gdHJ1ZSB0byBkaXNhYmxlIHRoZSBpbmZpbml0ZSBzY3JvbGwgZnJvbSBhY3RpdmVseVxuICAgICAqIHRyeWluZyB0byByZWNlaXZlIG5ldyBkYXRhIHdoaWxlIHNjcm9sbGluZy4gVGhpcyBpcyB1c2VmdWxcbiAgICAgKiB3aGVuIGl0IGlzIGtub3duIHRoYXQgdGhlcmUgaXMgbm8gbW9yZSBkYXRhIHRoYXQgY2FuIGJlIGFkZGVkLCBhbmRcbiAgICAgKiB0aGUgaW5maW5pdGUgc2Nyb2xsIGlzIG5vIGxvbmdlciBuZWVkZWQuXG4gICAgICovXG4gICAgdGhpcy5kaXNhYmxlZCA9IGZhbHNlO1xuICAgIC8qKlxuICAgICAqIFRoZSBwb3NpdGlvbiBvZiB0aGUgaW5maW5pdGUgc2Nyb2xsIGVsZW1lbnQuXG4gICAgICogVGhlIHZhbHVlIGNhbiBiZSBlaXRoZXIgYHRvcGAgb3IgYGJvdHRvbWAuXG4gICAgICovXG4gICAgdGhpcy5wb3NpdGlvbiA9ICdib3R0b20nO1xuICAgIHRoaXMub25TY3JvbGwgPSAoKSA9PiB7XG4gICAgICBjb25zdCBzY3JvbGxFbCA9IHRoaXMuc2Nyb2xsRWw7XG4gICAgICBpZiAoIXNjcm9sbEVsIHx8ICF0aGlzLmNhblN0YXJ0KCkpIHtcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgICB9XG4gICAgICBjb25zdCBpbmZpbml0ZUhlaWdodCA9IHRoaXMuZWwub2Zmc2V0SGVpZ2h0O1xuICAgICAgaWYgKGluZmluaXRlSGVpZ2h0ID09PSAwKSB7XG4gICAgICAgIC8vIGlmIHRoZXJlIGlzIG5vIGhlaWdodCBvZiB0aGlzIGVsZW1lbnQgdGhlbiBkbyBub3RoaW5nXG4gICAgICAgIHJldHVybiAyO1xuICAgICAgfVxuICAgICAgY29uc3Qgc2Nyb2xsVG9wID0gc2Nyb2xsRWwuc2Nyb2xsVG9wO1xuICAgICAgY29uc3Qgc2Nyb2xsSGVpZ2h0ID0gc2Nyb2xsRWwuc2Nyb2xsSGVpZ2h0O1xuICAgICAgY29uc3QgaGVpZ2h0ID0gc2Nyb2xsRWwub2Zmc2V0SGVpZ2h0O1xuICAgICAgY29uc3QgdGhyZXNob2xkID0gdGhpcy50aHJQYyAhPT0gMCA/IGhlaWdodCAqIHRoaXMudGhyUGMgOiB0aGlzLnRoclB4O1xuICAgICAgY29uc3QgZGlzdGFuY2VGcm9tSW5maW5pdGUgPSB0aGlzLnBvc2l0aW9uID09PSAnYm90dG9tJ1xuICAgICAgICA/IHNjcm9sbEhlaWdodCAtIGluZmluaXRlSGVpZ2h0IC0gc2Nyb2xsVG9wIC0gdGhyZXNob2xkIC0gaGVpZ2h0XG4gICAgICAgIDogc2Nyb2xsVG9wIC0gaW5maW5pdGVIZWlnaHQgLSB0aHJlc2hvbGQ7XG4gICAgICBpZiAoZGlzdGFuY2VGcm9tSW5maW5pdGUgPCAwKSB7XG4gICAgICAgIGlmICghdGhpcy5kaWRGaXJlKSB7XG4gICAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlO1xuICAgICAgICAgIHRoaXMuZGlkRmlyZSA9IHRydWU7XG4gICAgICAgICAgdGhpcy5pb25JbmZpbml0ZS5lbWl0KCk7XG4gICAgICAgICAgcmV0dXJuIDM7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0aGlzLmRpZEZpcmUgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiA0O1xuICAgIH07XG4gIH1cbiAgdGhyZXNob2xkQ2hhbmdlZCgpIHtcbiAgICBjb25zdCB2YWwgPSB0aGlzLnRocmVzaG9sZDtcbiAgICBpZiAodmFsLmxhc3RJbmRleE9mKCclJykgPiAtMSkge1xuICAgICAgdGhpcy50aHJQeCA9IDA7XG4gICAgICB0aGlzLnRoclBjID0gcGFyc2VGbG9hdCh2YWwpIC8gMTAwO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMudGhyUHggPSBwYXJzZUZsb2F0KHZhbCk7XG4gICAgICB0aGlzLnRoclBjID0gMDtcbiAgICB9XG4gIH1cbiAgZGlzYWJsZWRDaGFuZ2VkKCkge1xuICAgIGNvbnN0IGRpc2FibGVkID0gdGhpcy5kaXNhYmxlZDtcbiAgICBpZiAoZGlzYWJsZWQpIHtcbiAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgICB0aGlzLmlzQnVzeSA9IGZhbHNlO1xuICAgIH1cbiAgICB0aGlzLmVuYWJsZVNjcm9sbEV2ZW50cyghZGlzYWJsZWQpO1xuICB9XG4gIGFzeW5jIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIGNvbnN0IGNvbnRlbnRFbCA9IGZpbmRDbG9zZXN0SW9uQ29udGVudCh0aGlzLmVsKTtcbiAgICBpZiAoIWNvbnRlbnRFbCkge1xuICAgICAgcHJpbnRJb25Db250ZW50RXJyb3JNc2codGhpcy5lbCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuc2Nyb2xsRWwgPSBhd2FpdCBnZXRTY3JvbGxFbGVtZW50KGNvbnRlbnRFbCk7XG4gICAgdGhpcy50aHJlc2hvbGRDaGFuZ2VkKCk7XG4gICAgdGhpcy5kaXNhYmxlZENoYW5nZWQoKTtcbiAgICBpZiAodGhpcy5wb3NpdGlvbiA9PT0gJ3RvcCcpIHtcbiAgICAgIHdyaXRlVGFzaygoKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLnNjcm9sbEVsKSB7XG4gICAgICAgICAgdGhpcy5zY3JvbGxFbC5zY3JvbGxUb3AgPSB0aGlzLnNjcm9sbEVsLnNjcm9sbEhlaWdodCAtIHRoaXMuc2Nyb2xsRWwuY2xpZW50SGVpZ2h0O1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgdGhpcy5lbmFibGVTY3JvbGxFdmVudHMoZmFsc2UpO1xuICAgIHRoaXMuc2Nyb2xsRWwgPSB1bmRlZmluZWQ7XG4gIH1cbiAgLyoqXG4gICAqIENhbGwgYGNvbXBsZXRlKClgIHdpdGhpbiB0aGUgYGlvbkluZmluaXRlYCBvdXRwdXQgZXZlbnQgaGFuZGxlciB3aGVuXG4gICAqIHlvdXIgYXN5bmMgb3BlcmF0aW9uIGhhcyBjb21wbGV0ZWQuIEZvciBleGFtcGxlLCB0aGUgYGxvYWRpbmdgXG4gICAqIHN0YXRlIGlzIHdoaWxlIHRoZSBhcHAgaXMgcGVyZm9ybWluZyBhbiBhc3luY2hyb25vdXMgb3BlcmF0aW9uLFxuICAgKiBzdWNoIGFzIHJlY2VpdmluZyBtb3JlIGRhdGEgZnJvbSBhbiBBSkFYIHJlcXVlc3QgdG8gYWRkIG1vcmUgaXRlbXNcbiAgICogdG8gYSBkYXRhIGxpc3QuIE9uY2UgdGhlIGRhdGEgaGFzIGJlZW4gcmVjZWl2ZWQgYW5kIFVJIHVwZGF0ZWQsIHlvdVxuICAgKiB0aGVuIGNhbGwgdGhpcyBtZXRob2QgdG8gc2lnbmlmeSB0aGF0IHRoZSBsb2FkaW5nIGhhcyBjb21wbGV0ZWQuXG4gICAqIFRoaXMgbWV0aG9kIHdpbGwgY2hhbmdlIHRoZSBpbmZpbml0ZSBzY3JvbGwncyBzdGF0ZSBmcm9tIGBsb2FkaW5nYFxuICAgKiB0byBgZW5hYmxlZGAuXG4gICAqL1xuICBhc3luYyBjb21wbGV0ZSgpIHtcbiAgICBjb25zdCBzY3JvbGxFbCA9IHRoaXMuc2Nyb2xsRWw7XG4gICAgaWYgKCF0aGlzLmlzTG9hZGluZyB8fCAhc2Nyb2xsRWwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICBpZiAodGhpcy5wb3NpdGlvbiA9PT0gJ3RvcCcpIHtcbiAgICAgIC8qKlxuICAgICAgICogTmV3IGNvbnRlbnQgaXMgYmVpbmcgYWRkZWQgYXQgdGhlIHRvcCwgYnV0IHRoZSBzY3JvbGxUb3AgcG9zaXRpb24gc3RheXMgdGhlIHNhbWUsXG4gICAgICAgKiB3aGljaCBjYXVzZXMgYSBzY3JvbGwganVtcCB2aXN1YWxseS4gVGhpcyBhbGdvcml0aG0gbWFrZXMgc3VyZSB0byBwcmV2ZW50IHRoaXMuXG4gICAgICAgKiAoRnJhbWUgMSlcbiAgICAgICAqICAgIC0gY29tcGxldGUoKSBpcyBjYWxsZWQsIGJ1dCB0aGUgVUkgaGFzbid0IGhhZCB0aW1lIHRvIHVwZGF0ZSB5ZXQuXG4gICAgICAgKiAgICAtIFNhdmUgdGhlIGN1cnJlbnQgY29udGVudCBkaW1lbnNpb25zLlxuICAgICAgICogICAgLSBXYWl0IGZvciB0aGUgbmV4dCBmcmFtZSB1c2luZyBfZG9tLnJlYWQsIHNvIHRoZSBVSSB3aWxsIGJlIHVwZGF0ZWQuXG4gICAgICAgKiAoRnJhbWUgMilcbiAgICAgICAqICAgIC0gUmVhZCB0aGUgbmV3IGNvbnRlbnQgZGltZW5zaW9ucy5cbiAgICAgICAqICAgIC0gQ2FsY3VsYXRlIHRoZSBoZWlnaHQgZGlmZmVyZW5jZSBhbmQgdGhlIG5ldyBzY3JvbGwgcG9zaXRpb24uXG4gICAgICAgKiAgICAtIERlbGF5IHRoZSBzY3JvbGwgcG9zaXRpb24gY2hhbmdlIHVudGlsIG90aGVyIHBvc3NpYmxlIGRvbSByZWFkcyBhcmUgZG9uZSB1c2luZyBfZG9tLndyaXRlIHRvIGJlIHBlcmZvcm1hbnQuXG4gICAgICAgKiAoU3RpbGwgZnJhbWUgMiwgaWYgSSdtIGNvcnJlY3QpXG4gICAgICAgKiAgICAtIENoYW5nZSB0aGUgc2Nyb2xsIHBvc2l0aW9uICg9IHZpc3VhbGx5IG1haW50YWluIHRoZSBzY3JvbGwgcG9zaXRpb24pLlxuICAgICAgICogICAgLSBDaGFuZ2UgdGhlIHN0YXRlIHRvIHJlLWVuYWJsZSB0aGUgSW5maW5pdGVTY3JvbGwuXG4gICAgICAgKiAgICAtIFRoaXMgc2hvdWxkIGJlIGFmdGVyIGNoYW5naW5nIHRoZSBzY3JvbGwgcG9zaXRpb24sIG9yIGl0IGNvdWxkXG4gICAgICAgKiAgICBjYXVzZSB0aGUgSW5maW5pdGVTY3JvbGwgdG8gYmUgdHJpZ2dlcmVkIGFnYWluIGltbWVkaWF0ZWx5LlxuICAgICAgICogKEZyYW1lIDMpXG4gICAgICAgKiAgICBEb25lLlxuICAgICAgICovXG4gICAgICB0aGlzLmlzQnVzeSA9IHRydWU7XG4gICAgICAvLyAqKioqKioqKiBET00gUkVBRCAqKioqKioqKioqKioqKioqXG4gICAgICAvLyBTYXZlIHRoZSBjdXJyZW50IGNvbnRlbnQgZGltZW5zaW9ucyBiZWZvcmUgdGhlIFVJIHVwZGF0ZXNcbiAgICAgIGNvbnN0IHByZXYgPSBzY3JvbGxFbC5zY3JvbGxIZWlnaHQgLSBzY3JvbGxFbC5zY3JvbGxUb3A7XG4gICAgICAvLyAqKioqKioqKiBET00gUkVBRCAqKioqKioqKioqKioqKioqXG4gICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICByZWFkVGFzaygoKSA9PiB7XG4gICAgICAgICAgLy8gVUkgaGFzIHVwZGF0ZWQsIHNhdmUgdGhlIG5ldyBjb250ZW50IGRpbWVuc2lvbnNcbiAgICAgICAgICBjb25zdCBzY3JvbGxIZWlnaHQgPSBzY3JvbGxFbC5zY3JvbGxIZWlnaHQ7XG4gICAgICAgICAgLy8gTmV3IGNvbnRlbnQgd2FzIGFkZGVkIG9uIHRvcCwgc28gdGhlIHNjcm9sbCBwb3NpdGlvbiBzaG91bGQgYmUgY2hhbmdlZCBpbW1lZGlhdGVseSB0byBwcmV2ZW50IGl0IGZyb20ganVtcGluZyBhcm91bmRcbiAgICAgICAgICBjb25zdCBuZXdTY3JvbGxUb3AgPSBzY3JvbGxIZWlnaHQgLSBwcmV2O1xuICAgICAgICAgIC8vICoqKioqKioqIERPTSBXUklURSAqKioqKioqKioqKioqKioqXG4gICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgICAgIHdyaXRlVGFzaygoKSA9PiB7XG4gICAgICAgICAgICAgIHNjcm9sbEVsLnNjcm9sbFRvcCA9IG5ld1Njcm9sbFRvcDtcbiAgICAgICAgICAgICAgdGhpcy5pc0J1c3kgPSBmYWxzZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBjYW5TdGFydCgpIHtcbiAgICByZXR1cm4gIXRoaXMuZGlzYWJsZWQgJiYgIXRoaXMuaXNCdXN5ICYmICEhdGhpcy5zY3JvbGxFbCAmJiAhdGhpcy5pc0xvYWRpbmc7XG4gIH1cbiAgZW5hYmxlU2Nyb2xsRXZlbnRzKHNob3VsZExpc3Rlbikge1xuICAgIGlmICh0aGlzLnNjcm9sbEVsKSB7XG4gICAgICBpZiAoc2hvdWxkTGlzdGVuKSB7XG4gICAgICAgIHRoaXMuc2Nyb2xsRWwuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5vblNjcm9sbCk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdGhpcy5zY3JvbGxFbC5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLm9uU2Nyb2xsKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IG1vZGUgPSBnZXRJb25Nb2RlKHRoaXMpO1xuICAgIGNvbnN0IGRpc2FibGVkID0gdGhpcy5kaXNhYmxlZDtcbiAgICByZXR1cm4gKGgoSG9zdCwgeyBjbGFzczoge1xuICAgICAgICBbbW9kZV06IHRydWUsXG4gICAgICAgICdpbmZpbml0ZS1zY3JvbGwtbG9hZGluZyc6IHRoaXMuaXNMb2FkaW5nLFxuICAgICAgICAnaW5maW5pdGUtc2Nyb2xsLWVuYWJsZWQnOiAhZGlzYWJsZWQsXG4gICAgICB9IH0pKTtcbiAgfVxuICBnZXQgZWwoKSB7IHJldHVybiBnZXRFbGVtZW50KHRoaXMpOyB9XG4gIHN0YXRpYyBnZXQgd2F0Y2hlcnMoKSB7IHJldHVybiB7XG4gICAgXCJ0aHJlc2hvbGRcIjogW1widGhyZXNob2xkQ2hhbmdlZFwiXSxcbiAgICBcImRpc2FibGVkXCI6IFtcImRpc2FibGVkQ2hhbmdlZFwiXVxuICB9OyB9XG59O1xuSW5maW5pdGVTY3JvbGwuc3R5bGUgPSBpbmZpbml0ZVNjcm9sbENzcztcblxuY29uc3QgaW5maW5pdGVTY3JvbGxDb250ZW50SW9zQ3NzID0gXCJpb24taW5maW5pdGUtc2Nyb2xsLWNvbnRlbnR7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7LW1zLWZsZXgtZGlyZWN0aW9uOmNvbHVtbjtmbGV4LWRpcmVjdGlvbjpjb2x1bW47LW1zLWZsZXgtcGFjazpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjttaW4taGVpZ2h0Ojg0cHg7dGV4dC1hbGlnbjpjZW50ZXI7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lOy1tb3otdXNlci1zZWxlY3Q6bm9uZTstbXMtdXNlci1zZWxlY3Q6bm9uZTt1c2VyLXNlbGVjdDpub25lfS5pbmZpbml0ZS1sb2FkaW5ne21hcmdpbi1sZWZ0OjA7bWFyZ2luLXJpZ2h0OjA7bWFyZ2luLXRvcDowO21hcmdpbi1ib3R0b206MzJweDtkaXNwbGF5Om5vbmU7d2lkdGg6MTAwJX0uaW5maW5pdGUtbG9hZGluZy10ZXh0e21hcmdpbi1sZWZ0OjMycHg7bWFyZ2luLXJpZ2h0OjMycHg7bWFyZ2luLXRvcDo0cHg7bWFyZ2luLWJvdHRvbTowfUBzdXBwb3J0cyAoKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKSBvciAobWFyZ2luLWlubGluZS1zdGFydDogMCkpIG9yICgtd2Via2l0LW1hcmdpbi1zdGFydDogMCl7LmluZmluaXRlLWxvYWRpbmctdGV4dHttYXJnaW4tbGVmdDp1bnNldDttYXJnaW4tcmlnaHQ6dW5zZXQ7LXdlYmtpdC1tYXJnaW4tc3RhcnQ6MzJweDttYXJnaW4taW5saW5lLXN0YXJ0OjMycHg7LXdlYmtpdC1tYXJnaW4tZW5kOjMycHg7bWFyZ2luLWlubGluZS1lbmQ6MzJweH19LmluZmluaXRlLXNjcm9sbC1sb2FkaW5nIGlvbi1pbmZpbml0ZS1zY3JvbGwtY29udGVudD4uaW5maW5pdGUtbG9hZGluZ3tkaXNwbGF5OmJsb2NrfS5pbmZpbml0ZS1zY3JvbGwtY29udGVudC1pb3MgLmluZmluaXRlLWxvYWRpbmctdGV4dHtjb2xvcjp2YXIoLS1pb24tY29sb3Itc3RlcC02MDAsICM2NjY2NjYpfS5pbmZpbml0ZS1zY3JvbGwtY29udGVudC1pb3MgLmluZmluaXRlLWxvYWRpbmctc3Bpbm5lciAuc3Bpbm5lci1saW5lcy1pb3MgbGluZSwuaW5maW5pdGUtc2Nyb2xsLWNvbnRlbnQtaW9zIC5pbmZpbml0ZS1sb2FkaW5nLXNwaW5uZXIgLnNwaW5uZXItbGluZXMtc21hbGwtaW9zIGxpbmUsLmluZmluaXRlLXNjcm9sbC1jb250ZW50LWlvcyAuaW5maW5pdGUtbG9hZGluZy1zcGlubmVyIC5zcGlubmVyLWNyZXNjZW50IGNpcmNsZXtzdHJva2U6dmFyKC0taW9uLWNvbG9yLXN0ZXAtNjAwLCAjNjY2NjY2KX0uaW5maW5pdGUtc2Nyb2xsLWNvbnRlbnQtaW9zIC5pbmZpbml0ZS1sb2FkaW5nLXNwaW5uZXIgLnNwaW5uZXItYnViYmxlcyBjaXJjbGUsLmluZmluaXRlLXNjcm9sbC1jb250ZW50LWlvcyAuaW5maW5pdGUtbG9hZGluZy1zcGlubmVyIC5zcGlubmVyLWNpcmNsZXMgY2lyY2xlLC5pbmZpbml0ZS1zY3JvbGwtY29udGVudC1pb3MgLmluZmluaXRlLWxvYWRpbmctc3Bpbm5lciAuc3Bpbm5lci1kb3RzIGNpcmNsZXtmaWxsOnZhcigtLWlvbi1jb2xvci1zdGVwLTYwMCwgIzY2NjY2Nil9XCI7XG5cbmNvbnN0IGluZmluaXRlU2Nyb2xsQ29udGVudE1kQ3NzID0gXCJpb24taW5maW5pdGUtc2Nyb2xsLWNvbnRlbnR7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7LW1zLWZsZXgtZGlyZWN0aW9uOmNvbHVtbjtmbGV4LWRpcmVjdGlvbjpjb2x1bW47LW1zLWZsZXgtcGFjazpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjttaW4taGVpZ2h0Ojg0cHg7dGV4dC1hbGlnbjpjZW50ZXI7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lOy1tb3otdXNlci1zZWxlY3Q6bm9uZTstbXMtdXNlci1zZWxlY3Q6bm9uZTt1c2VyLXNlbGVjdDpub25lfS5pbmZpbml0ZS1sb2FkaW5ne21hcmdpbi1sZWZ0OjA7bWFyZ2luLXJpZ2h0OjA7bWFyZ2luLXRvcDowO21hcmdpbi1ib3R0b206MzJweDtkaXNwbGF5Om5vbmU7d2lkdGg6MTAwJX0uaW5maW5pdGUtbG9hZGluZy10ZXh0e21hcmdpbi1sZWZ0OjMycHg7bWFyZ2luLXJpZ2h0OjMycHg7bWFyZ2luLXRvcDo0cHg7bWFyZ2luLWJvdHRvbTowfUBzdXBwb3J0cyAoKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKSBvciAobWFyZ2luLWlubGluZS1zdGFydDogMCkpIG9yICgtd2Via2l0LW1hcmdpbi1zdGFydDogMCl7LmluZmluaXRlLWxvYWRpbmctdGV4dHttYXJnaW4tbGVmdDp1bnNldDttYXJnaW4tcmlnaHQ6dW5zZXQ7LXdlYmtpdC1tYXJnaW4tc3RhcnQ6MzJweDttYXJnaW4taW5saW5lLXN0YXJ0OjMycHg7LXdlYmtpdC1tYXJnaW4tZW5kOjMycHg7bWFyZ2luLWlubGluZS1lbmQ6MzJweH19LmluZmluaXRlLXNjcm9sbC1sb2FkaW5nIGlvbi1pbmZpbml0ZS1zY3JvbGwtY29udGVudD4uaW5maW5pdGUtbG9hZGluZ3tkaXNwbGF5OmJsb2NrfS5pbmZpbml0ZS1zY3JvbGwtY29udGVudC1tZCAuaW5maW5pdGUtbG9hZGluZy10ZXh0e2NvbG9yOnZhcigtLWlvbi1jb2xvci1zdGVwLTYwMCwgIzY2NjY2Nil9LmluZmluaXRlLXNjcm9sbC1jb250ZW50LW1kIC5pbmZpbml0ZS1sb2FkaW5nLXNwaW5uZXIgLnNwaW5uZXItbGluZXMtbWQgbGluZSwuaW5maW5pdGUtc2Nyb2xsLWNvbnRlbnQtbWQgLmluZmluaXRlLWxvYWRpbmctc3Bpbm5lciAuc3Bpbm5lci1saW5lcy1zbWFsbC1tZCBsaW5lLC5pbmZpbml0ZS1zY3JvbGwtY29udGVudC1tZCAuaW5maW5pdGUtbG9hZGluZy1zcGlubmVyIC5zcGlubmVyLWNyZXNjZW50IGNpcmNsZXtzdHJva2U6dmFyKC0taW9uLWNvbG9yLXN0ZXAtNjAwLCAjNjY2NjY2KX0uaW5maW5pdGUtc2Nyb2xsLWNvbnRlbnQtbWQgLmluZmluaXRlLWxvYWRpbmctc3Bpbm5lciAuc3Bpbm5lci1idWJibGVzIGNpcmNsZSwuaW5maW5pdGUtc2Nyb2xsLWNvbnRlbnQtbWQgLmluZmluaXRlLWxvYWRpbmctc3Bpbm5lciAuc3Bpbm5lci1jaXJjbGVzIGNpcmNsZSwuaW5maW5pdGUtc2Nyb2xsLWNvbnRlbnQtbWQgLmluZmluaXRlLWxvYWRpbmctc3Bpbm5lciAuc3Bpbm5lci1kb3RzIGNpcmNsZXtmaWxsOnZhcigtLWlvbi1jb2xvci1zdGVwLTYwMCwgIzY2NjY2Nil9XCI7XG5cbmNvbnN0IEluZmluaXRlU2Nyb2xsQ29udGVudCA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IoaG9zdFJlZikge1xuICAgIHJlZ2lzdGVySW5zdGFuY2UodGhpcywgaG9zdFJlZik7XG4gIH1cbiAgY29tcG9uZW50RGlkTG9hZCgpIHtcbiAgICBpZiAodGhpcy5sb2FkaW5nU3Bpbm5lciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb25zdCBtb2RlID0gZ2V0SW9uTW9kZSh0aGlzKTtcbiAgICAgIHRoaXMubG9hZGluZ1NwaW5uZXIgPSBjb25maWcuZ2V0KCdpbmZpbml0ZUxvYWRpbmdTcGlubmVyJywgY29uZmlnLmdldCgnc3Bpbm5lcicsIG1vZGUgPT09ICdpb3MnID8gJ2xpbmVzJyA6ICdjcmVzY2VudCcpKTtcbiAgICB9XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IG1vZGUgPSBnZXRJb25Nb2RlKHRoaXMpO1xuICAgIHJldHVybiAoaChIb3N0LCB7IGNsYXNzOiB7XG4gICAgICAgIFttb2RlXTogdHJ1ZSxcbiAgICAgICAgLy8gVXNlZCBpbnRlcm5hbGx5IGZvciBzdHlsaW5nXG4gICAgICAgIFtgaW5maW5pdGUtc2Nyb2xsLWNvbnRlbnQtJHttb2RlfWBdOiB0cnVlLFxuICAgICAgfSB9LCBoKFwiZGl2XCIsIHsgY2xhc3M6IFwiaW5maW5pdGUtbG9hZGluZ1wiIH0sIHRoaXMubG9hZGluZ1NwaW5uZXIgJiYgKGgoXCJkaXZcIiwgeyBjbGFzczogXCJpbmZpbml0ZS1sb2FkaW5nLXNwaW5uZXJcIiB9LCBoKFwiaW9uLXNwaW5uZXJcIiwgeyBuYW1lOiB0aGlzLmxvYWRpbmdTcGlubmVyIH0pKSksIHRoaXMubG9hZGluZ1RleHQgJiYgaChcImRpdlwiLCB7IGNsYXNzOiBcImluZmluaXRlLWxvYWRpbmctdGV4dFwiLCBpbm5lckhUTUw6IHNhbml0aXplRE9NU3RyaW5nKHRoaXMubG9hZGluZ1RleHQpIH0pKSkpO1xuICB9XG59O1xuSW5maW5pdGVTY3JvbGxDb250ZW50LnN0eWxlID0ge1xuICBpb3M6IGluZmluaXRlU2Nyb2xsQ29udGVudElvc0NzcyxcbiAgbWQ6IGluZmluaXRlU2Nyb2xsQ29udGVudE1kQ3NzXG59O1xuXG5leHBvcnQgeyBJbmZpbml0ZVNjcm9sbCBhcyBpb25faW5maW5pdGVfc2Nyb2xsLCBJbmZpbml0ZVNjcm9sbENvbnRlbnQgYXMgaW9uX2luZmluaXRlX3Njcm9sbF9jb250ZW50IH07XG4iXSwibmFtZXMiOlsicHJpbnRJb25XYXJuaW5nIiwibWVzc2FnZSIsInBhcmFtcyIsImNvbnNvbGUiLCJ3YXJuIiwicHJpbnRJb25FcnJvciIsImVycm9yIiwicHJpbnRSZXF1aXJlZEVsZW1lbnRFcnJvciIsImVsIiwidGFyZ2V0U2VsZWN0b3JzIiwidGFnTmFtZSIsInRvTG93ZXJDYXNlIiwiam9pbiIsImEiLCJiIiwicCIsInIiLCJyZWdpc3Rlckluc3RhbmNlIiwiZSIsImNyZWF0ZUV2ZW50IiwiYyIsIndyaXRlVGFzayIsImYiLCJyZWFkVGFzayIsImgiLCJpIiwiZ2V0RWxlbWVudCIsIkgiLCJIb3N0IiwiZ2V0SW9uTW9kZSIsImNvbmZpZyIsImZpbmRDbG9zZXN0SW9uQ29udGVudCIsInByaW50SW9uQ29udGVudEVycm9yTXNnIiwiZyIsImdldFNjcm9sbEVsZW1lbnQiLCJzIiwic2FuaXRpemVET01TdHJpbmciLCJpbmZpbml0ZVNjcm9sbENzcyIsIkluZmluaXRlU2Nyb2xsIiwiY29uc3RydWN0b3IiLCJob3N0UmVmIiwiaW9uSW5maW5pdGUiLCJ0aHJQeCIsInRoclBjIiwiZGlkRmlyZSIsImlzQnVzeSIsImlzTG9hZGluZyIsInRocmVzaG9sZCIsImRpc2FibGVkIiwicG9zaXRpb24iLCJvblNjcm9sbCIsInNjcm9sbEVsIiwiY2FuU3RhcnQiLCJpbmZpbml0ZUhlaWdodCIsIm9mZnNldEhlaWdodCIsInNjcm9sbFRvcCIsInNjcm9sbEhlaWdodCIsImhlaWdodCIsImRpc3RhbmNlRnJvbUluZmluaXRlIiwiZW1pdCIsInRocmVzaG9sZENoYW5nZWQiLCJ2YWwiLCJsYXN0SW5kZXhPZiIsInBhcnNlRmxvYXQiLCJkaXNhYmxlZENoYW5nZWQiLCJlbmFibGVTY3JvbGxFdmVudHMiLCJjb25uZWN0ZWRDYWxsYmFjayIsImNvbnRlbnRFbCIsImNsaWVudEhlaWdodCIsImRpc2Nvbm5lY3RlZENhbGxiYWNrIiwidW5kZWZpbmVkIiwiY29tcGxldGUiLCJwcmV2IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibmV3U2Nyb2xsVG9wIiwic2hvdWxkTGlzdGVuIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJyZW5kZXIiLCJtb2RlIiwiY2xhc3MiLCJ3YXRjaGVycyIsInN0eWxlIiwiaW5maW5pdGVTY3JvbGxDb250ZW50SW9zQ3NzIiwiaW5maW5pdGVTY3JvbGxDb250ZW50TWRDc3MiLCJJbmZpbml0ZVNjcm9sbENvbnRlbnQiLCJjb21wb25lbnREaWRMb2FkIiwibG9hZGluZ1NwaW5uZXIiLCJnZXQiLCJuYW1lIiwibG9hZGluZ1RleHQiLCJpbm5lckhUTUwiLCJpb3MiLCJtZCIsImlvbl9pbmZpbml0ZV9zY3JvbGwiLCJpb25faW5maW5pdGVfc2Nyb2xsX2NvbnRlbnQiXSwic291cmNlUm9vdCI6IndlYnBhY2s6Ly8vIiwieF9nb29nbGVfaWdub3JlTGlzdCI6WzAsMV19